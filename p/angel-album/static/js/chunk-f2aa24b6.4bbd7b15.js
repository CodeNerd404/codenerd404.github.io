(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f2aa24b6"],{"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},5302:function(t,e,a){"use strict";a.d(e,"d",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return r})),a.d(e,"e",(function(){return l})),a.d(e,"b",(function(){return o}));var i=a("b775");function n(){return Object(i["a"])({url:"/platform/all",method:"post"})}function s(t){return Object(i["a"])({url:"/platform/list",method:"post",data:t})}function r(t){return Object(i["a"])({url:"/platform/add",method:"post",data:t})}function l(t){return Object(i["a"])({url:"/platform/update",method:"post",data:t})}function o(t){return Object(i["a"])({url:"/platform/delete",method:"post",data:t})}},"75e4":function(t,e,a){"use strict";a.d(e,"d",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return r})),a.d(e,"e",(function(){return l})),a.d(e,"b",(function(){return o}));var i=a("b775");function n(){return Object(i["a"])({url:"/star/all",method:"post"})}function s(t){return Object(i["a"])({url:"/star/list",method:"post",data:t})}function r(t){return Object(i["a"])({url:"/star/add",method:"post",data:t})}function l(t){return Object(i["a"])({url:"/star/update",method:"post",data:t})}function o(t){return Object(i["a"])({url:"/star/delete",method:"post",data:t})}},"7df9":function(t,e,a){"use strict";a("cb33")},"841c":function(t,e,a){"use strict";var i=a("d784"),n=a("825a"),s=a("1d80"),r=a("129f"),l=a("14c3");i("search",1,(function(t,e,a){return[function(e){var a=s(this),i=void 0==e?void 0:e[t];return void 0!==i?i.call(e,a):new RegExp(e)[t](String(a))},function(t){var i=a(e,t,this);if(i.done)return i.value;var s=n(t),o=String(this),c=s.lastIndex;r(c,0)||(s.lastIndex=0);var u=l(s,o);return r(s.lastIndex,c)||(s.lastIndex=c),null===u?-1:u.index}]}))},"975e":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return r}));var i=a("b775");function n(t){return Object(i["a"])({url:"/photo/list",method:"post",data:t})}function s(t){return Object(i["a"])({url:"/photo/detail",method:"post",data:{id:t}})}function r(t){return Object(i["a"])({url:"/photo/add",method:"post",data:t})}},cb33:function(t,e,a){},cf1c:function(t,e,a){t.exports=a.p+"static/img/loading.9c4a4928.gif"},dbea:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[t.isList?i("el-row",{staticStyle:{display:"flex","flex-direction":"column",height:"100%"}},[i("el-row",{staticStyle:{width:"100%"},attrs:{type:"flex",justify:"space-between"}},[i("el-row",{attrs:{type:"flex"}},[i("el-select",{staticStyle:{width:"180px","margin-left":"3px"},attrs:{placeholder:"平台",filterable:"",clearable:""},model:{value:t.search.pid,callback:function(e){t.$set(t.search,"pid",e)},expression:"search.pid"}},t._l(t.platforms,(function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),i("el-select",{staticStyle:{width:"180px","margin-left":"3px"},attrs:{placeholder:"模特",filterable:"",clearable:""},model:{value:t.search.sid,callback:function(e){t.$set(t.search,"sid",e)},expression:"search.sid"}},t._l(t.stars,(function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),i("el-input",{staticStyle:{width:"180px","margin-left":"3px"},attrs:{placeholder:"相册关键字",clearable:""},model:{value:t.search.name,callback:function(e){t.$set(t.search,"name",e)},expression:"search.name"}}),i("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"3px"},attrs:{type:"primary"},on:{click:function(e){t.search.page=1,t.fetchList()}}},[t._v(" 查询 ")])],1)],1),i("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"margin-top":"15px","padding-bottom":"30px",flex:"1"}},[i("div",{staticStyle:{width:"100%",height:"698px",overflow:"auto"}},t._l(t.list,(function(e){return i("span",{key:e.id,staticStyle:{width:"180px",display:"inline-block",margin:".1rem",cursor:"pointer"},on:{click:function(a){return t.editAlbum(e)}}},[i("el-card",{attrs:{"body-style":{padding:"0px"},shadow:"hover"}},[i("el-image",{staticStyle:{height:"270px",width:"100%"},attrs:{src:e.cover,fit:"cover",lazy:""}},[i("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[i("el-image",{staticStyle:{"margin-top":"50%"},attrs:{src:a("cf1c")}})],1)]),i("div",{staticStyle:{padding:".5rem"}},[i("span",{staticStyle:{"font-size":"13px",display:"inline-block",height:"4rem"}},[t._v(t._s(e.name))]),i("el-divider",{attrs:{"content-position":"center"}},[t._v(t._s(e.star.name))]),i("div",{staticStyle:{"font-size":"13px","text-align":"center"}},[i("span",[i("i",{staticClass:"el-icon-view"}),t._v(" "+t._s(e.view))]),i("el-divider",{attrs:{direction:"vertical"}}),i("span",[i("i",{staticClass:"el-icon-time"}),t._v(" "+t._s(e.time))])],1)],1)],1)],1)})),0)]),i("el-row",{staticClass:"page-block-body",attrs:{type:"flex"}},[i("el-pagination",{staticClass:"page-block",attrs:{"current-page":t.search.page,"page-sizes":[10,15,20,50,100,200,300,400],"page-size":t.search.pageSize,total:t.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.changePageSize,"current-change":t.changePage}})],1)],1):i("el-row",[i("update-album",{attrs:{"album-info":t.AlbumDetail},on:{backList:t.backList}})],1)],1)},n=[],s=(a("ac1f"),a("841c"),a("a434"),a("75e4")),r=a("5302"),l=a("e498"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"margin-top":"15px","padding-bottom":"30px",flex:"1"}},[i("el-col",{attrs:{span:8}},[i("el-card",{attrs:{shadow:"hover"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("el-button",{attrs:{icon:"el-icon-back",circle:"",size:"mini"},on:{click:function(e){return t.$emit("backList")}}}),i("span",[t._v(" "+t._s(t.albumInfo.name)+" ")])],1),i("el-descriptions",{attrs:{size:"small",column:2,border:""}},[i("el-descriptions-item",[i("template",{slot:"label"},[i("i",{staticClass:"el-icon-user"}),t._v(" 出镜 ")]),t._v(" "+t._s(t.albumInfo.star.name)+" "),i("el-link",{attrs:{type:"primary",underline:!1}},[i("el-tooltip",{attrs:{placement:"right"}},[i("i",{staticClass:"el-icon-warning-outline"}),i("div",{attrs:{slot:"content"},slot:"content"},[t._v(" 别名："),i("span",[t._v(t._s(t.albumInfo.star.byname||"----")),i("br")]),t._v(" 年龄："),i("span",[t._v(t._s(t.albumInfo.star.age||"----")),i("br")]),t._v(" 生日："),i("span",[t._v(t._s(t.albumInfo.star.birthday||"----")),i("br")]),t._v(" 胸围："),i("span",[t._v(t._s(t.albumInfo.star.bust||"----")),i("br")]),t._v(" 腰围："),i("span",[t._v(t._s(t.albumInfo.star.waist||"----")),i("br")]),t._v(" 臀围："),i("span",[t._v(t._s(t.albumInfo.star.hips||"----")),i("br")]),t._v(" 身高："),i("span",[t._v(t._s(t.albumInfo.star.height||"----")),i("br")]),t._v(" 体重："),i("span",[t._v(t._s(t.albumInfo.star.weight||"----")),i("br")]),t._v(" 血型："),i("span",[t._v(t._s(t.albumInfo.star.abo||"----")),i("br")]),t._v(" 属相："),i("span",[t._v(t._s(t.albumInfo.star.attr||"----")),i("br")]),t._v(" 星座："),i("span",[t._v(t._s(t.albumInfo.star.constellation||"----")),i("br")]),t._v(" 家乡："),i("span",[t._v(t._s(t.albumInfo.star.birthplace||"----")),i("br")]),t._v(" 职业："),i("span",[t._v(t._s(t.albumInfo.star.career||"----")),i("br")]),t._v(" 兴趣："),i("span",[t._v(t._s(t.albumInfo.star.interest||"----")),i("br")])])])],1)],2),i("el-descriptions-item",[i("template",{slot:"label"},[i("i",{staticClass:"el-icon-help"}),t._v(" 平台 ")]),t._v(" "+t._s(t.albumInfo.platform.name)+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[i("i",{staticClass:"el-icon-view"}),t._v(" 浏览量 ")]),t._v(" "+t._s(t.albumInfo.view)+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[i("i",{staticClass:"el-icon-picture-outline"}),t._v(" 数量 ")]),t._v(" "+t._s(t.total)+" ")],2),i("el-descriptions-item",[i("template",{slot:"label"},[i("i",{staticClass:"el-icon-time"}),t._v(" 更新时间 ")]),t._v(" "+t._s(t.albumInfo.time)+" ")],2)],1),i("div",{staticStyle:{"text-align":"center"}},[i("el-image",{staticStyle:{"min-height":"300px",width:"100%","margin-top":".5rem"},attrs:{src:t.albumInfo.cover,fit:"cover",lazy:""}},[i("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[i("el-image",{staticStyle:{"margin-top":"50%"},attrs:{src:a("cf1c")}})],1)])],1)],1)],1),i("el-col",{attrs:{span:16}},[i("el-card",{attrs:{shadow:"hover"}},[t.list?i("span",t._l(t.list,(function(e){return i("el-image",{key:e.id,staticStyle:{width:"100px",height:"150px",margin:".1rem"},attrs:{src:e,"preview-src-list":t.list,fit:"cover",lazy:""}},[i("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[i("el-image",{staticStyle:{"margin-top":"50%"},attrs:{src:a("cf1c")}})],1)])})),1):i("el-skeleton",{attrs:{rows:20,animated:""}})],1)],1)],1)],1)},c=[],u=a("975e"),d={name:"EditAlbum",props:{albumInfo:{type:Object,required:!0}},data:function(){return{list:[],total:0,loading:!0}},created:function(){this.getDetail()},methods:{getDetail:function(){var t=this;this.loading=!0,Object(u["c"])(this.albumInfo.id).then((function(e){t.list=e.data,t.total=e.total,t.loading=!1}))}}},p=d,f=a("2877"),m=Object(f["a"])(p,o,c,!1,null,"80024e4e",null),h=m.exports,b={name:"AlbumList",components:{UpdateAlbum:h},data:function(){return{platforms:[],stars:[],list:[],total:0,isList:!0,loading:!0,AlbumDetail:{},search:{pid:"",sid:"",name:"",page:1,limit:10}}},created:function(){this.search.sid=this.$route.query.sid?this.$route.query.sid:"",this.fetchList(),this.getStarAll(),this.getPlatformAll()},methods:{fetchList:function(){var t=this;this.loading=!0,Object(l["c"])(this.search).then((function(e){t.list=e.data,t.total=e.total,t.loading=!1}))},getPlatformAll:function(){var t=this;Object(r["d"])().then((function(e){e.data.unshift({id:"",name:"所有平台"}),t.platforms=e.data}))},getStarAll:function(){var t=this;Object(s["d"])().then((function(e){e.data.unshift({id:"",name:"所有模特"}),t.stars=e.data}))},editAlbum:function(t){this.AlbumDetail=t,this.isList=!1},deleteAlbum:function(t,e){var a=this;this.$messagebox.confirm("确认删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(i){Object(l["b"])(t).then((function(t){a.list.splice(e,1),a.$message({message:"删除成功",type:"success"})}))}))},backList:function(){this.isList=!0},changePageSize:function(t){var e=this;this.search.limit=t,Object(l["c"])(this.search).then((function(t){e.list=t.data,e.total=t.total}))},changePage:function(t){var e=this;this.search.page=t,Object(l["c"])(this.search).then((function(t){e.list=t.data,e.total=t.total}))}}},v=b,g=(a("7df9"),Object(f["a"])(v,i,n,!1,null,"531aa47e",null));e["default"]=g.exports},e498:function(t,e,a){"use strict";a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return r}));var i=a("b775");function n(t){return Object(i["a"])({url:"/album/list",method:"post",data:t})}function s(t){return Object(i["a"])({url:"/album/add",method:"post",data:t})}function r(t){return Object(i["a"])({url:"/album/delete",method:"post",data:t})}}}]);